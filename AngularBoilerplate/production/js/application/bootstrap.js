define(["angular","angularRoute","mocks","config"],function(e){var t=e.module("application",["ngRoute","controllers","services","filters","directives","Mock","APPLICATION"]).config(["$routeProvider","APPLICATION",function(e,t){e.when("/:page",{templateUrl:function(e){return"js/application/view/page/"+e.page+".tpl"},controller:"RouteController"}).when("/",{templateUrl:"js/application/view/page/"+t.basePage+".tpl",controller:"RouteController"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$http","$injector","ENVIRONMENT",function(e,t,n,r){r.mock.http?(console.log("using mocks"),n.get("Auth").run(),n.get("Services").run()):(n.get("Auth").disable(),n.get("Services").disable()),t.get("js/application/pages.json").success(function(t){e.pages=t}),e.$on("routeLoaded",function(t,n){e.page=n.page,e.$apply()})}]);return t});